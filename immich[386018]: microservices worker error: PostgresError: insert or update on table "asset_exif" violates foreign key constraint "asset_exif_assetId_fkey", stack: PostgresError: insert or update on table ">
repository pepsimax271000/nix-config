Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/sessions/:id, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/sessions/:id/lock, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] SharedLinkController {/api/shared-links}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/shared-links, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/shared-links/me, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/shared-links, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id, PATCH} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id/assets, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id/assets, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] StackController {/api/stacks}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/stacks, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/stacks, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/stacks, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/stacks/:id, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/stacks/:id, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/stacks/:id, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/stacks/:id/assets/:assetId, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] SyncController {/api/sync}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/sync/full-sync, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/sync/delta-sync, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/sync/stream, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/sync/ack, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/sync/ack, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/sync/ack, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] SystemConfigController {/api/system-config}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/system-config, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/system-config/defaults, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/system-config, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/system-config/storage-template-options, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] SystemMetadataController {/api/system-metadata}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/system-metadata/admin-onboarding, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/system-metadata/admin-onboarding, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/system-metadata/reverse-geocoding-state, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/system-metadata/version-check-state, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] TagController {/api/tags}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags/assets, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags/:id, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags/:id, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags/:id, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags/:id/assets, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/tags/:id/assets, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] TimelineController {/api/timeline}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/timeline/buckets, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/timeline/bucket, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] TrashController {/api/trash}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/trash/empty, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/trash/restore, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/trash/restore/assets, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] UserAdminController {/api/admin/users}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/sessions, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/statistics, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/preferences, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/preferences, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/restore, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] UserController {/api/users}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me/preferences, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me/preferences, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me/license, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me/license, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me/license, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me/onboarding, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me/onboarding, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/me/onboarding, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/:id, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/profile-image, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/profile-image, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/users/:id/profile-image, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] ViewController {/api/view}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/view/folder/unique-paths, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/view/folder, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RoutesResolver] WorkflowController {/api/workflows}:
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/workflows, POST} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/workflows, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/workflows/:id, GET} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/workflows/:id, PUT} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:RouterExplorer] Mapped {/api/workflows/:id, DELETE} route
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:NestApplication] Nest application successfully started
Feb 07 06:15:41 glados immich[385967]: [Nest] 385967  - 07/02/2026, 06:15:41     LOG [Api:Bootstrap] Immich Server is listening on http://127.0.0.1:2283 [v2.5.2] [production] 
Feb 07 06:15:41 glados immich[385949]: Query failed : {
Feb 07 06:15:41 glados immich[385949]:   durationMs: 14.621519000000262,
Feb 07 06:15:41 glados immich[385949]:   error: PostgresError: insert or update on table "asset_exif" violates foreign key constraint "asset_exif_assetId_fkey"
Feb 07 06:15:41 glados immich[385949]:       at ErrorResponse (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:815:30)
Feb 07 06:15:41 glados immich[385949]:       at handle (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:489:6)
Feb 07 06:15:41 glados immich[385949]:       at Socket.data (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:324:9)
Feb 07 06:15:41 glados immich[385949]:       at Socket.emit (node:events:508:28)
Feb 07 06:15:41 glados immich[385949]:       at addChunk (node:internal/streams/readable:559:12)
Feb 07 06:15:41 glados immich[385949]:       at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
Feb 07 06:15:41 glados immich[385949]:       at Readable.push (node:internal/streams/readable:390:5)
Feb 07 06:15:41 glados immich[385949]:       at Pipe.onStreamRead (node:internal/stream_base_commons:189:23) {
Feb 07 06:15:41 glados immich[385949]:     severity_local: 'ERROR',
Feb 07 06:15:41 glados immich[385949]:     severity: 'ERROR',
Feb 07 06:15:41 glados immich[385949]:     code: '23503',
Feb 07 06:15:41 glados immich[385949]:     detail: 'Key (assetId)=(558982e2-70c7-4b75-881c-49b728517aa9) is not present in table "asset".',
Feb 07 06:15:41 glados immich[385949]:     schema_name: 'public',
Feb 07 06:15:41 glados immich[385949]:     table_name: 'asset_exif',
Feb 07 06:15:41 glados immich[385949]:     constraint_name: 'asset_exif_assetId_fkey',
Feb 07 06:15:41 glados immich[385949]:     file: 'ri_triggers.c',
Feb 07 06:15:41 glados immich[385949]:     line: '2619',
Feb 07 06:15:41 glados immich[385949]:     routine: 'ri_ReportViolation'
Feb 07 06:15:41 glados immich[385949]:   },
Feb 07 06:15:41 glados immich[385949]:   sql: 'insert into "asset_exif" ("assetId", "dateTimeOriginal", "modifyDate", "timeZone", "latitude", "longitude", "country", "state", "city", "fileSizeInByte", "exifImageHeight", "exifImageWidth", "orientation", "projectionType", "bitsPerSample", "colorspace", "make", "model", "fps", "iso", "exposureTime", "lensModel", "fNumber", "focalLength", "description", "profileDescription", "rating", "livePhotoCID", "autoStackId", "tags") values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30) on conflict ("assetId") do update set "description" = case when $31 = any("asset_exif"."lockedProperties") then "asset_exif"."description" else "excluded"."description" end, "exifImageWidth" = case when $32 = any("asset_exif"."lockedProperties") then "asset_exif"."exifImageWidth" else "excluded"."exifImageWidth" end, "exifImageHeight" = case when $33 = any("asset_exif"."lockedProperties") then "asset_exif"."exifImageHeight" else "excluded"."exifImageHeight" end, "fileSizeInByte" = case when $34 = any("asset_exif"."lockedProperties") then "asset_exif"."fileSizeInByte" else "excluded"."fileSizeInByte" end, "orientation" = case when $35 = any("asset_exif"."lockedProperties") then "asset_exif"."orientation" else "excluded"."orientation" end, "dateTimeOriginal" = case when $36 = any("asset_exif"."lockedProperties") then "asset_exif"."dateTimeOriginal" else "excluded"."dateTimeOriginal" end, "modifyDate" = case when $37 = any("asset_exif"."lockedProperties") then "asset_exif"."modifyDate" else "excluded"."modifyDate" end, "timeZone" = case when $38 = any("asset_exif"."lockedProperties") then "asset_exif"."timeZone" else "excluded"."timeZone" end, "latitude" = case when $39 = any("asset_exif"."lockedProperties") then "asset_exif"."latitude" else "excluded"."latitude" end, "longitude" = case when $40 = any("asset_exif"."lockedProperties") then "asset_exif"."longitude" else "excluded"."longitude" end, "projectionType" = case when $41 = any("asset_exif"."lockedProperties") then "asset_exif"."projectionType" else "excluded"."projectionType" end, "city" = case when $42 = any("asset_exif"."lockedProperties") then "asset_exif"."city" else "excluded"."city" end, "livePhotoCID" = case when $43 = any("asset_exif"."lockedProperties") then "asset_exif"."livePhotoCID" else "excluded"."livePhotoCID" end, "autoStackId" = case when $44 = any("asset_exif"."lockedProperties") then "asset_exif"."autoStackId" else "excluded"."autoStackId" end, "state" = case when $45 = any("asset_exif"."lockedProperties") then "asset_exif"."state" else "excluded"."state" end, "country" = case when $46 = any("asset_exif"."lockedProperties") then "asset_exif"."country" else "excluded"."country" end, "make" = case when $47 = any("asset_exif"."lockedProperties") then "asset_exif"."make" else "excluded"."make" end, "model" = case when $48 = any("asset_exif"."lockedProperties") then "asset_exif"."model" else "excluded"."model" end, "lensModel" = case when $49 = any("asset_exif"."lockedProperties") then "asset_exif"."lensModel" else "excluded"."lensModel" end, "fNumber" = case when $50 = any("asset_exif"."lockedProperties") then "asset_exif"."fNumber" else "excluded"."fNumber" end, "focalLength" = case when $51 = any("asset_exif"."lockedProperties") then "asset_exif"."focalLength" else "excluded"."focalLength" end, "iso" = case when $52 = any("asset_exif"."lockedProperties") then "asset_exif"."iso" else "excluded"."iso" end, "exposureTime" = case when $53 = any("asset_exif"."lockedProperties") then "asset_exif"."exposureTime" else "excluded"."exposureTime" end, "profileDescription" = case when $54 = any("asset_exif"."lockedProperties") then "asset_exif"."profileDescription" else "excluded"."profileDescription" end, "colorspace" = case when $55 = any("asset_exif"."lockedProperties") then "asset_exif"."colorspace" else "excluded"."colorspace" end, "bitsPerSample" = case when $56 = any("asset_exif"."lockedProperties") then "asset_exif"."bitsPerSample" else "excluded"."bitsPerSample" end, "rating" = case when $57 = any("asset_exif"."lockedProperties") then "asset_exif"."rating" else "excluded"."rating" end, "fps" = case when $58 = any("asset_exif"."lockedProperties") then "asset_exif"."fps" else "excluded"."fps" end, "tags" = case when $59 = any("asset_exif"."lockedProperties") then "asset_exif"."tags" else "excluded"."tags" end',
Feb 07 06:15:41 glados immich[385949]:   params: [
Feb 07 06:15:41 glados immich[385949]:     '558982e2-70c7-4b75-881c-49b728517aa9',
Feb 07 06:15:41 glados immich[385949]:     2025-07-03T01:17:40.870Z,
Feb 07 06:15:41 glados immich[385949]:     2025-07-03T01:17:40.885Z,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     9884,
Feb 07 06:15:41 glados immich[385949]:     444,
Feb 07 06:15:41 glados immich[385949]:     250,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     '',
Feb 07 06:15:41 glados immich[385949]:     'sRGB',
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     null,
Feb 07 06:15:41 glados immich[385949]:     'description',
Feb 07 06:15:41 glados immich[385949]:     'exifImageWidth',
Feb 07 06:15:41 glados immich[385949]:     'exifImageHeight',
Feb 07 06:15:41 glados immich[385949]:     'fileSizeInByte',
Feb 07 06:15:41 glados immich[385949]:     'orientation',
Feb 07 06:15:41 glados immich[385949]:     'dateTimeOriginal',
Feb 07 06:15:41 glados immich[385949]:     'modifyDate',
Feb 07 06:15:41 glados immich[385949]:     'timeZone',
Feb 07 06:15:41 glados immich[385949]:     'latitude',
Feb 07 06:15:41 glados immich[385949]:     'longitude',
Feb 07 06:15:41 glados immich[385949]:     'projectionType',
Feb 07 06:15:41 glados immich[385949]:     'city',
Feb 07 06:15:41 glados immich[385949]:     'livePhotoCID',
Feb 07 06:15:41 glados immich[385949]:     'autoStackId',
Feb 07 06:15:41 glados immich[385949]:     'state',
Feb 07 06:15:41 glados immich[385949]:     'country',
Feb 07 06:15:41 glados immich[385949]:     'make',
Feb 07 06:15:41 glados immich[385949]:     'model',
Feb 07 06:15:41 glados immich[385949]:     'lensModel',
Feb 07 06:15:41 glados immich[385949]:     'fNumber',
Feb 07 06:15:41 glados immich[385949]:     'focalLength',
Feb 07 06:15:41 glados immich[385949]:     'iso',
Feb 07 06:15:41 glados immich[385949]:     'exposureTime',
Feb 07 06:15:41 glados immich[385949]:     'profileDescription',
Feb 07 06:15:41 glados immich[385949]:     'colorspace',
Feb 07 06:15:41 glados immich[385949]:     'bitsPerSample',
Feb 07 06:15:41 glados immich[385949]:     'rating',
Feb 07 06:15:41 glados immich[385949]:     'fps',
Feb 07 06:15:41 glados immich[385949]:     'tags'
Feb 07 06:15:41 glados immich[385949]:   ]
Feb 07 06:15:41 glados immich[385949]: }
Feb 07 06:15:41 glados immich[385949]: microservices worker error: PostgresError: insert or update on table "asset_exif" violates foreign key constraint "asset_exif_assetId_fkey", stack: PostgresError: insert or update on table "asset_exif" violates foreign key constraint "asset_exif_assetId_fkey"
Feb 07 06:15:41 glados immich[385949]:     at ErrorResponse (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:815:30)
Feb 07 06:15:41 glados immich[385949]:     at handle (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:489:6)
Feb 07 06:15:41 glados immich[385949]:     at Socket.data (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:324:9)
Feb 07 06:15:41 glados immich[385949]:     at Socket.emit (node:events:508:28)
Feb 07 06:15:41 glados immich[385949]:     at addChunk (node:internal/streams/readable:559:12)
Feb 07 06:15:41 glados immich[385949]:     at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
Feb 07 06:15:41 glados immich[385949]:     at Readable.push (node:internal/streams/readable:390:5)
Feb 07 06:15:41 glados immich[385949]:     at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)
Feb 07 06:15:41 glados immich[385949]: microservices worker exited with code 1
Feb 07 06:15:41 glados immich[385949]: Killing api process
Feb 07 06:15:41 glados systemd[1]: [0;1;39m[0;1;31m[0;1;39mimmich-server.service: Main process exited, code=exited, status=1/FAILURE[0m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Unit process exited[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: https://lists.freedesktop.org/mailman/listinfo/systemd-devel[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mAn ExecStart= process belonging to unit immich-server.service has exited.[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe process' exit code is 'exited' and its exit status is 1.[0m
Feb 07 06:15:41 glados systemd[1]: [0;1;38:5:185m[0;1;39m[0;1;38:5:185mimmich-server.service: Failed with result 'exit-code'.[0m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Unit failed[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: https://lists.freedesktop.org/mailman/listinfo/systemd-devel[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe unit immich-server.service has entered the 'failed' state with result 'exit-code'.[0m
Feb 07 06:15:41 glados systemd[1]: [0;1;39m[0;1;31m[0;1;39mimmich-server.service: Consumed 5.171s CPU time, 765.1M memory peak, 26.6M read from disk, 3.3K incoming IP traffic, 150.8K outgoing IP traffic.[0m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Resources consumed by unit runtime[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: https://lists.freedesktop.org/mailman/listinfo/systemd-devel[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe unit immich-server.service completed and consumed the indicated resources.[0m
Feb 07 06:15:44 glados systemd[1]: immich-server.service: Scheduled restart job, restart counter is at 2.
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Automatic restarting of a unit has been scheduled[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: https://lists.freedesktop.org/mailman/listinfo/systemd-devel[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mAutomatic restarting of the unit immich-server.service has been scheduled, as the result for[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mthe configured Restart= setting for the unit.[0m
Feb 07 06:15:44 glados systemd[1]: Started Immich backend server (Self-hosted photo and video backup solution).
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: A start job for unit immich-server.service has finished successfully[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: https://lists.freedesktop.org/mailman/listinfo/systemd-devel[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mA start job for unit immich-server.service has finished successfully.[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe job identifier is 151558.[0m
Feb 07 06:15:45 glados immich[386018]: Missing history for endpoint: Retrieve auth status
Feb 07 06:15:45 glados immich[386018]: (node:386018) ExperimentalWarning: WASI is an experimental feature and might change at any time
Feb 07 06:15:45 glados immich[386018]: (Use `node --trace-warnings ...` to show where the warning was created)
Feb 07 06:15:45 glados immich[386018]: Postgres notice: {
Feb 07 06:15:45 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:45 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:45 glados immich[386018]:   code: '01000',
Feb 07 06:15:45 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:45 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:45 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:45 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:45 glados immich[386018]:   line: '486',
Feb 07 06:15:45 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:45 glados immich[386018]: }
Feb 07 06:15:45 glados immich[386018]: Postgres notice: {
Feb 07 06:15:45 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:45 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:45 glados immich[386018]:   code: '01000',
Feb 07 06:15:45 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:45 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:45 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:45 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:45 glados immich[386018]:   line: '486',
Feb 07 06:15:45 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:45 glados immich[386018]: }
Feb 07 06:15:46 glados immich[386018]: Starting api worker
Feb 07 06:15:46 glados immich[386018]: Starting microservices worker
Feb 07 06:15:47 glados immich[386018]: Missing history for endpoint: Retrieve auth status
Feb 07 06:15:47 glados immich[386045]: Missing history for endpoint: Retrieve auth status
Feb 07 06:15:47 glados immich[386018]: (node:386018) ExperimentalWarning: WASI is an experimental feature and might change at any time
Feb 07 06:15:47 glados immich[386018]: (Use `node --trace-warnings ...` to show where the warning was created)
Feb 07 06:15:47 glados immich[386045]: (node:386045) ExperimentalWarning: WASI is an experimental feature and might change at any time
Feb 07 06:15:47 glados immich[386045]: (Use `node --trace-warnings ...` to show where the warning was created)
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:WebsocketRepository] Initialized websocket server
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:DatabaseRepository] targetLists=1, current=1 for clip_index of 2257 rows
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:DatabaseRepository] targetLists=1, current=1 for face_index of 895 rows
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:DatabaseRepository] Dropping pgvecto.rs extension
Feb 07 06:15:47 glados immich[386018]: Query failed : {
Feb 07 06:15:47 glados immich[386018]:   durationMs: 0.8837700000003679,
Feb 07 06:15:47 glados immich[386018]:   error: PostgresError: must be owner of extension vectors
Feb 07 06:15:47 glados immich[386018]:       at ErrorResponse (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:815:30)
Feb 07 06:15:47 glados immich[386018]:       at handle (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:489:6)
Feb 07 06:15:47 glados immich[386018]:       at Socket.data (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:324:9)
Feb 07 06:15:47 glados immich[386018]:       at Socket.emit (node:events:508:28)
Feb 07 06:15:47 glados immich[386018]:       at addChunk (node:internal/streams/readable:559:12)
Feb 07 06:15:47 glados immich[386018]:       at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
Feb 07 06:15:47 glados immich[386018]:       at Readable.push (node:internal/streams/readable:390:5)
Feb 07 06:15:47 glados immich[386018]:       at Pipe.onStreamRead (node:internal/stream_base_commons:189:23) {
Feb 07 06:15:47 glados immich[386018]:     severity_local: 'ERROR',
Feb 07 06:15:47 glados immich[386018]:     severity: 'ERROR',
Feb 07 06:15:47 glados immich[386018]:     code: '42501',
Feb 07 06:15:47 glados immich[386018]:     file: 'aclchk.c',
Feb 07 06:15:47 glados immich[386018]:     line: '2952',
Feb 07 06:15:47 glados immich[386018]:     routine: 'aclcheck_error'
Feb 07 06:15:47 glados immich[386018]:   },
Feb 07 06:15:47 glados immich[386018]:   sql: 'DROP EXTENSION IF EXISTS vectors',
Feb 07 06:15:47 glados immich[386018]:   params: []
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47    WARN [Microservices:DatabaseService] The pgvecto.rs extension is no longer needed, but could not be dropped.
Feb 07 06:15:47 glados immich[386018]:     This may be because Immich does not have the necessary permissions to drop the extension.
Feb 07 06:15:47 glados immich[386018]:     Please run 'DROP EXTENSION vectors;' manually as a superuser.
Feb 07 06:15:47 glados immich[386018]:     See https://docs.immich.app/guides/database-queries for how to query the database.
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47    WARN [Microservices:DatabaseService] PostgresError: must be owner of extension vectors
Feb 07 06:15:47 glados immich[386018]:     at ErrorResponse (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:815:30)
Feb 07 06:15:47 glados immich[386018]:     at handle (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:489:6)
Feb 07 06:15:47 glados immich[386018]:     at Socket.data (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:324:9)
Feb 07 06:15:47 glados immich[386018]:     at Socket.emit (node:events:508:28)
Feb 07 06:15:47 glados immich[386018]:     at addChunk (node:internal/streams/readable:559:12)
Feb 07 06:15:47 glados immich[386018]:     at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
Feb 07 06:15:47 glados immich[386018]:     at Readable.push (node:internal/streams/readable:390:5)
Feb 07 06:15:47 glados immich[386018]:     at Pipe.onStreamRead (node:internal/stream_base_commons:189:23) {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'ERROR',
Feb 07 06:15:47 glados immich[386018]:   severity: 'ERROR',
Feb 07 06:15:47 glados immich[386018]:   code: '42501',
Feb 07 06:15:47 glados immich[386018]:   file: 'aclchk.c',
Feb 07 06:15:47 glados immich[386018]:   line: '2952',
Feb 07 06:15:47 glados immich[386018]:   routine: 'aclcheck_error'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:DatabaseRepository] Running migrations
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:DatabaseRepository] Finished running migrations
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:StorageService] Verifying system mount folder checks, current state: {"mountChecks":{"thumbs":true,"upload":true,"backups":true,"library":true,"profile":true,"encoded-video":true}}
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:StorageService] Successfully verified system mount folder checks
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:MetadataService] Bootstrapping metadata service
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:MetadataService] Initializing metadata service
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:MapRepository] Initializing metadata repository
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:WebsocketRepository] Initialized websocket server
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:MetadataService] Initialized local reverse geocoder
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47   ERROR [Microservices:{"source":"upload","id":"27763494-0e97-4a8b-afa6-f7e6364ec3f6"}] Unable to run job handler (Ocr): Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]: Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]:     at get config (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:40:19)
Feb 07 06:15:47 glados immich[386018]:     at MachineLearningRepository.predict (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:101:21)
Feb 07 06:15:47 glados immich[386018]:     at async MachineLearningRepository.ocr (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:150:26)
Feb 07 06:15:47 glados immich[386018]:     at async OcrService.handleOcr (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/ocr.service.js:53:28)
Feb 07 06:15:47 glados immich[386018]:     at async JobService.onJobRun (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/job.service.js:51:30)
Feb 07 06:15:47 glados immich[386018]:     at async EventRepository.onEvent (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/event.repository.js:91:13)
Feb 07 06:15:47 glados immich[386018]:     at async /nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/bullmq@5.66.5/node_modules/bullmq/dist/cjs/classes/worker.js:565:32
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47   ERROR [Microservices:{"source":"upload","id":"49bbad23-bb1a-4f6f-8f61-c7e84169263a"}] Unable to run job handler (AssetDetectFaces): Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]: Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]:     at get config (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:40:19)
Feb 07 06:15:47 glados immich[386018]:     at MachineLearningRepository.predict (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:101:21)
Feb 07 06:15:47 glados immich[386018]:     at async MachineLearningRepository.detectFaces (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:126:26)
Feb 07 06:15:47 glados immich[386018]:     at async PersonService.handleDetectFaces (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/person.service.js:246:52)
Feb 07 06:15:47 glados immich[386018]:     at async JobService.onJobRun (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/job.service.js:51:30)
Feb 07 06:15:47 glados immich[386018]:     at async EventRepository.onEvent (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/event.repository.js:91:13)
Feb 07 06:15:47 glados immich[386018]:     at async /nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/bullmq@5.66.5/node_modules/bullmq/dist/cjs/classes/worker.js:565:32
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:PluginService] Plugin immich-core is up to date (version 2.0.1). Skipping
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:PluginService] Successfully processed core plugin: immich-core (version 2.0.1)
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47   ERROR [Microservices:{"source":"upload","id":"5b65a60e-19e5-46de-a56c-3aa4aa2771e2"}] Unable to run job handler (Ocr): Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]: Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]:     at get config (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:40:19)
Feb 07 06:15:47 glados immich[386018]:     at MachineLearningRepository.predict (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:101:21)
Feb 07 06:15:47 glados immich[386018]:     at async MachineLearningRepository.ocr (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:150:26)
Feb 07 06:15:47 glados immich[386018]:     at async OcrService.handleOcr (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/ocr.service.js:53:28)
Feb 07 06:15:47 glados immich[386018]:     at async JobService.onJobRun (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/job.service.js:51:30)
Feb 07 06:15:47 glados immich[386018]:     at async EventRepository.onEvent (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/event.repository.js:91:13)
Feb 07 06:15:47 glados immich[386018]:     at async /nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/bullmq@5.66.5/node_modules/bullmq/dist/cjs/classes/worker.js:565:32
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47   ERROR [Microservices:{"source":"upload","id":"ab365e75-d7be-4da9-a0e5-2f4c0b222db4"}] Unable to run job handler (AssetDetectFaces): Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]: Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]:     at get config (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:40:19)
Feb 07 06:15:47 glados immich[386018]:     at MachineLearningRepository.predict (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:101:21)
Feb 07 06:15:47 glados immich[386018]:     at async MachineLearningRepository.detectFaces (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:126:26)
Feb 07 06:15:47 glados immich[386018]:     at async PersonService.handleDetectFaces (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/person.service.js:246:52)
Feb 07 06:15:47 glados immich[386018]:     at async JobService.onJobRun (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/job.service.js:51:30)
Feb 07 06:15:47 glados immich[386018]:     at async EventRepository.onEvent (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/event.repository.js:91:13)
Feb 07 06:15:47 glados immich[386018]:     at async /nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/bullmq@5.66.5/node_modules/bullmq/dist/cjs/classes/worker.js:565:32
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47   ERROR [Microservices:{"source":"upload","id":"011d94b3-6fde-4ec1-beaf-f997bb0c5316"}] Unable to run job handler (Ocr): Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]: Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]:     at get config (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:40:19)
Feb 07 06:15:47 glados immich[386018]:     at MachineLearningRepository.predict (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:101:21)
Feb 07 06:15:47 glados immich[386018]:     at async MachineLearningRepository.ocr (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:150:26)
Feb 07 06:15:47 glados immich[386018]:     at async OcrService.handleOcr (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/ocr.service.js:53:28)
Feb 07 06:15:47 glados immich[386018]:     at async JobService.onJobRun (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/job.service.js:51:30)
Feb 07 06:15:47 glados immich[386018]:     at async EventRepository.onEvent (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/event.repository.js:91:13)
Feb 07 06:15:47 glados immich[386018]:     at async /nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/bullmq@5.66.5/node_modules/bullmq/dist/cjs/classes/worker.js:565:32
Feb 07 06:15:47 glados immich[386045]: Postgres notice: {
Feb 07 06:15:47 glados immich[386045]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386045]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386045]:   code: '01000',
Feb 07 06:15:47 glados immich[386045]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386045]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386045]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386045]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386045]:   line: '486',
Feb 07 06:15:47 glados immich[386045]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386045]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:PluginService] Successfully loaded plugin: immich-core
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:ServerService] Feature Flags: {
Feb 07 06:15:47 glados immich[386018]:   "smartSearch": true,
Feb 07 06:15:47 glados immich[386018]:   "facialRecognition": true,
Feb 07 06:15:47 glados immich[386018]:   "duplicateDetection": true,
Feb 07 06:15:47 glados immich[386018]:   "map": true,
Feb 07 06:15:47 glados immich[386018]:   "reverseGeocoding": true,
Feb 07 06:15:47 glados immich[386018]:   "importFaces": false,
Feb 07 06:15:47 glados immich[386018]:   "sidecar": true,
Feb 07 06:15:47 glados immich[386018]:   "search": true,
Feb 07 06:15:47 glados immich[386018]:   "trash": true,
Feb 07 06:15:47 glados immich[386018]:   "oauth": false,
Feb 07 06:15:47 glados immich[386018]:   "oauthAutoLaunch": false,
Feb 07 06:15:47 glados immich[386018]:   "ocr": true,
Feb 07 06:15:47 glados immich[386018]:   "passwordLogin": true,
Feb 07 06:15:47 glados immich[386018]:   "configFile": false,
Feb 07 06:15:47 glados immich[386018]:   "email": false
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47   ERROR [Microservices:{"source":"upload","id":"593e93b5-65b6-45b8-be18-20be62230bd1"}] Unable to run job handler (AssetDetectFaces): Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]: Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]:     at get config (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:40:19)
Feb 07 06:15:47 glados immich[386018]:     at MachineLearningRepository.predict (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:101:21)
Feb 07 06:15:47 glados immich[386018]:     at async MachineLearningRepository.detectFaces (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:126:26)
Feb 07 06:15:47 glados immich[386018]:     at async PersonService.handleDetectFaces (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/person.service.js:246:52)
Feb 07 06:15:47 glados immich[386018]:     at async JobService.onJobRun (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/job.service.js:51:30)
Feb 07 06:15:47 glados immich[386018]:     at async EventRepository.onEvent (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/event.repository.js:91:13)
Feb 07 06:15:47 glados immich[386018]:     at async /nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/bullmq@5.66.5/node_modules/bullmq/dist/cjs/classes/worker.js:565:32
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47   ERROR [Microservices:{"source":"upload","id":"bc047319-82b3-42bf-a55c-22cd995ac79c"}] Unable to run job handler (Ocr): Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]: Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]:     at get config (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:40:19)
Feb 07 06:15:47 glados immich[386018]:     at MachineLearningRepository.predict (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:101:21)
Feb 07 06:15:47 glados immich[386018]:     at async MachineLearningRepository.ocr (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:150:26)
Feb 07 06:15:47 glados immich[386018]:     at async OcrService.handleOcr (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/ocr.service.js:53:28)
Feb 07 06:15:47 glados immich[386018]:     at async JobService.onJobRun (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/job.service.js:51:30)
Feb 07 06:15:47 glados immich[386018]:     at async EventRepository.onEvent (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/event.repository.js:91:13)
Feb 07 06:15:47 glados immich[386018]:     at async /nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/bullmq@5.66.5/node_modules/bullmq/dist/cjs/classes/worker.js:565:32
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:SystemConfigService] LogLevel=log (set via system config)
Feb 07 06:15:47 glados immich[386045]: Postgres notice: {
Feb 07 06:15:47 glados immich[386045]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386045]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386045]:   code: '01000',
Feb 07 06:15:47 glados immich[386045]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386045]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386045]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386045]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386045]:   line: '486',
Feb 07 06:15:47 glados immich[386045]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386045]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47   ERROR [Microservices:{"source":"upload","id":"925b1b75-5bad-430d-b926-70e74fa15d57"}] Unable to run job handler (AssetDetectFaces): Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:DatabaseRepository] targetLists=1, current=1 for clip_index of 2257 rows
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:DatabaseRepository] targetLists=1, current=1 for face_index of 895 rows
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:DatabaseRepository] Dropping pgvecto.rs extension
Feb 07 06:15:47 glados immich[386018]: Error: Machine learning repository not been setup
Feb 07 06:15:47 glados immich[386018]:     at get config (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:40:19)
Feb 07 06:15:47 glados immich[386018]:     at MachineLearningRepository.predict (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:101:21)
Feb 07 06:15:47 glados immich[386018]:     at async MachineLearningRepository.detectFaces (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/machine-learning.repository.js:126:26)
Feb 07 06:15:47 glados immich[386018]:     at async PersonService.handleDetectFaces (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/person.service.js:246:52)
Feb 07 06:15:47 glados immich[386018]:     at async JobService.onJobRun (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/services/job.service.js:51:30)
Feb 07 06:15:47 glados immich[386018]:     at async EventRepository.onEvent (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/dist/repositories/event.repository.js:91:13)
Feb 07 06:15:47 glados immich[386018]:     at async /nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/bullmq@5.66.5/node_modules/bullmq/dist/cjs/classes/worker.js:565:32
Feb 07 06:15:47 glados immich[386045]: Query failed : {
Feb 07 06:15:47 glados immich[386045]:   durationMs: 0.813767000000098,
Feb 07 06:15:47 glados immich[386045]:   error: PostgresError: must be owner of extension vectors
Feb 07 06:15:47 glados immich[386045]:       at ErrorResponse (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:815:30)
Feb 07 06:15:47 glados immich[386045]:       at handle (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:489:6)
Feb 07 06:15:47 glados immich[386045]:       at Socket.data (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:324:9)
Feb 07 06:15:47 glados immich[386045]:       at Socket.emit (node:events:508:28)
Feb 07 06:15:47 glados immich[386045]:       at addChunk (node:internal/streams/readable:559:12)
Feb 07 06:15:47 glados immich[386045]:       at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
Feb 07 06:15:47 glados immich[386045]:       at Readable.push (node:internal/streams/readable:390:5)
Feb 07 06:15:47 glados immich[386045]:       at Pipe.onStreamRead (node:internal/stream_base_commons:189:23) {
Feb 07 06:15:47 glados immich[386045]:     severity_local: 'ERROR',
Feb 07 06:15:47 glados immich[386045]:     severity: 'ERROR',
Feb 07 06:15:47 glados immich[386045]:     code: '42501',
Feb 07 06:15:47 glados immich[386045]:     file: 'aclchk.c',
Feb 07 06:15:47 glados immich[386045]:     line: '2952',
Feb 07 06:15:47 glados immich[386045]:     routine: 'aclcheck_error'
Feb 07 06:15:47 glados immich[386045]:   },
Feb 07 06:15:47 glados immich[386045]:   sql: 'DROP EXTENSION IF EXISTS vectors',
Feb 07 06:15:47 glados immich[386045]:   params: []
Feb 07 06:15:47 glados immich[386045]: }
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47    WARN [Api:DatabaseService] The pgvecto.rs extension is no longer needed, but could not be dropped.
Feb 07 06:15:47 glados immich[386045]:     This may be because Immich does not have the necessary permissions to drop the extension.
Feb 07 06:15:47 glados immich[386045]:     Please run 'DROP EXTENSION vectors;' manually as a superuser.
Feb 07 06:15:47 glados immich[386045]:     See https://docs.immich.app/guides/database-queries for how to query the database.
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47    WARN [Api:DatabaseService] PostgresError: must be owner of extension vectors
Feb 07 06:15:47 glados immich[386045]:     at ErrorResponse (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:815:30)
Feb 07 06:15:47 glados immich[386045]:     at handle (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:489:6)
Feb 07 06:15:47 glados immich[386045]:     at Socket.data (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:324:9)
Feb 07 06:15:47 glados immich[386045]:     at Socket.emit (node:events:508:28)
Feb 07 06:15:47 glados immich[386045]:     at addChunk (node:internal/streams/readable:559:12)
Feb 07 06:15:47 glados immich[386045]:     at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
Feb 07 06:15:47 glados immich[386045]:     at Readable.push (node:internal/streams/readable:390:5)
Feb 07 06:15:47 glados immich[386045]:     at Pipe.onStreamRead (node:internal/stream_base_commons:189:23) {
Feb 07 06:15:47 glados immich[386045]:   severity_local: 'ERROR',
Feb 07 06:15:47 glados immich[386045]:   severity: 'ERROR',
Feb 07 06:15:47 glados immich[386045]:   code: '42501',
Feb 07 06:15:47 glados immich[386045]:   file: 'aclchk.c',
Feb 07 06:15:47 glados immich[386045]:   line: '2952',
Feb 07 06:15:47 glados immich[386045]:   routine: 'aclcheck_error'
Feb 07 06:15:47 glados immich[386045]: }
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:DatabaseRepository] Running migrations
Feb 07 06:15:47 glados immich[386045]: Postgres notice: {
Feb 07 06:15:47 glados immich[386045]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386045]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386045]:   code: '01000',
Feb 07 06:15:47 glados immich[386045]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386045]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386045]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386045]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386045]:   line: '486',
Feb 07 06:15:47 glados immich[386045]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386045]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:MachineLearningRepository] Machine learning server became healthy (http://localhost:3003).
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:NestFactory] Starting Nest application...
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: Postgres notice: {
Feb 07 06:15:47 glados immich[386018]:   severity_local: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   severity: 'WARNING',
Feb 07 06:15:47 glados immich[386018]:   code: '01000',
Feb 07 06:15:47 glados immich[386018]:   message: 'database "immich" has a collation version mismatch',
Feb 07 06:15:47 glados immich[386018]:   detail: 'The database was created using collation version 2.40, but the operating system provides version 2.42.',
Feb 07 06:15:47 glados immich[386018]:   hint: 'Rebuild all objects in this database that use the default collation and run ALTER DATABASE immich REFRESH COLLATION VERSION, or build PostgreSQL with the right library version.',
Feb 07 06:15:47 glados immich[386018]:   file: 'postinit.c',
Feb 07 06:15:47 glados immich[386018]:   line: '486',
Feb 07 06:15:47 glados immich[386018]:   routine: 'CheckMyDatabase'
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] BullModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] ClsModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] ClsCommonModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] KyselyModule$1 dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] OpenTelemetryModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] KyselyCoreModule$1 dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] DiscoveryModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] OpenTelemetryCoreModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] ClsRootModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] BullModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] BullModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:InstanceLoader] MicroservicesModule dependencies initialized
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:NestApplication] Nest application successfully started
Feb 07 06:15:47 glados immich[386018]: [Nest] 386018  - 07/02/2026, 06:15:47     LOG [Microservices:Bootstrap] Immich Microservices is running [v2.5.2] [production] 
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:DatabaseRepository] Finished running migrations
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:StorageService] Verifying system mount folder checks, current state: {"mountChecks":{"thumbs":true,"upload":true,"backups":true,"library":true,"profile":true,"encoded-video":true}}
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:StorageService] Successfully verified system mount folder checks
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:PluginService] Plugin immich-core is up to date (version 2.0.1). Skipping
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:PluginService] Successfully processed core plugin: immich-core (version 2.0.1)
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:PluginService] Successfully loaded plugin: immich-core
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:ServerService] Feature Flags: {
Feb 07 06:15:47 glados immich[386045]:   "smartSearch": true,
Feb 07 06:15:47 glados immich[386045]:   "facialRecognition": true,
Feb 07 06:15:47 glados immich[386045]:   "duplicateDetection": true,
Feb 07 06:15:47 glados immich[386045]:   "map": true,
Feb 07 06:15:47 glados immich[386045]:   "reverseGeocoding": true,
Feb 07 06:15:47 glados immich[386045]:   "importFaces": false,
Feb 07 06:15:47 glados immich[386045]:   "sidecar": true,
Feb 07 06:15:47 glados immich[386045]:   "search": true,
Feb 07 06:15:47 glados immich[386045]:   "trash": true,
Feb 07 06:15:47 glados immich[386045]:   "oauth": false,
Feb 07 06:15:47 glados immich[386045]:   "oauthAutoLaunch": false,
Feb 07 06:15:47 glados immich[386045]:   "ocr": true,
Feb 07 06:15:47 glados immich[386045]:   "passwordLogin": true,
Feb 07 06:15:47 glados immich[386045]:   "configFile": false,
Feb 07 06:15:47 glados immich[386045]:   "email": false
Feb 07 06:15:47 glados immich[386045]: }
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:SystemConfigService] LogLevel=log (set via system config)
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:MachineLearningRepository] Machine learning server became healthy (http://localhost:3003).
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:NestFactory] Starting Nest application...
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] BullModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] ClsModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] ClsCommonModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] KyselyModule$1 dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] OpenTelemetryModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] KyselyCoreModule$1 dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] DiscoveryModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] OpenTelemetryCoreModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] ClsRootModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] ScheduleModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] BullModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] BullModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:InstanceLoader] ApiModule dependencies initialized
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] ApiKeyController {/api/api-keys}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/api-keys, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/api-keys, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/api-keys/me, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/api-keys/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/api-keys/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/api-keys/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] ActivityController {/api/activities}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/activities, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/activities, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/activities/statistics, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/activities/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] AlbumController {/api/albums}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/statistics, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/:id, PATCH} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/:id/assets, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/assets, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/:id/assets, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/:id/users, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/:id/user/:userId, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/albums/:id/user/:userId, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] AppController {/api}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/.well-known/immich, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/custom.css, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] AssetController {/api/assets}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/random, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/device/:deviceId, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/statistics, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/jobs, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/copy, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/metadata, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/metadata, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/metadata, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/ocr, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/metadata, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/metadata/:key, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/metadata/:key, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/edits, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/edits, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/edits, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] AssetMediaController {/api/assets}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/original, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/original, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/thumbnail, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/:id/video/playback, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/exist, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/assets/bulk-upload-check, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] AuthController {/api/auth}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/login, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/admin-sign-up, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/validateToken, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/change-password, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/logout, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/status, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/pin-code, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/pin-code, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/pin-code, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/session/unlock, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/auth/session/lock, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] AuthAdminController {/api/admin/auth}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/auth/unlink-all, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] DatabaseBackupController {/api/admin/database-backups}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/database-backups, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/database-backups/:filename, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/database-backups, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/database-backups/start-restore, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/database-backups/upload, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] DownloadController {/api/download}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/download/info, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/download/archive, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] DuplicateController {/api/duplicates}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/duplicates, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/duplicates, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/duplicates/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] FaceController {/api/faces}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/faces, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/faces, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/faces/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/faces/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] JobController {/api/jobs}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/jobs, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/jobs, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/jobs/:name, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] LibraryController {/api/libraries}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/libraries, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/libraries, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/libraries/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/libraries/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/libraries/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/libraries/:id/validate, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/libraries/:id/statistics, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/libraries/:id/scan, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] MaintenanceController {/api/admin/maintenance}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/maintenance/status, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/maintenance/detect-install, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/maintenance/login, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/maintenance, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] MapController {/api/map}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/map/markers, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/map/reverse-geocode, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] MemoryController {/api/memories}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/memories, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/memories, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/memories/statistics, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/memories/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/memories/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/memories/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/memories/:id/assets, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/memories/:id/assets, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] NotificationController {/api/notifications}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/notifications, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/notifications, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/notifications, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/notifications/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/notifications/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/notifications/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] NotificationAdminController {/api/admin/notifications}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/notifications, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/notifications/test-email, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/notifications/templates/:name, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] OAuthController {/api/oauth}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/oauth/mobile-redirect, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/oauth/authorize, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/oauth/callback, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/oauth/link, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/oauth/unlink, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] PartnerController {/api/partners}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/partners, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/partners, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/partners/:id, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/partners/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/partners/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] PersonController {/api/people}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people/:id/statistics, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people/:id/thumbnail, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people/:id/reassign, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/people/:id/merge, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] PluginController {/api/plugins}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/plugins/triggers, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/plugins, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/plugins/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] QueueController {/api/queues}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/queues, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/queues/:name, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/queues/:name, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/queues/:name/jobs, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/queues/:name/jobs, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] SearchController {/api/search}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/metadata, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/statistics, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/random, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/large-assets, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/smart, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/explore, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/person, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/places, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/cities, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/search/suggestions, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] ServerController {/api/server}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/about, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/apk-links, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/storage, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/ping, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/version, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/version-history, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/features, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/theme, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/config, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/statistics, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/media-types, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/license, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/license, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/license, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/server/version-check, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] SessionController {/api/sessions}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sessions, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sessions, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sessions, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sessions/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sessions/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sessions/:id/lock, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] SharedLinkController {/api/shared-links}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/shared-links, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/shared-links/me, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/shared-links, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id, PATCH} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id/assets, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/shared-links/:id/assets, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] StackController {/api/stacks}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/stacks, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/stacks, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/stacks, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/stacks/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/stacks/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/stacks/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/stacks/:id/assets/:assetId, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] SyncController {/api/sync}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sync/full-sync, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sync/delta-sync, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sync/stream, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sync/ack, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sync/ack, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/sync/ack, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] SystemConfigController {/api/system-config}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/system-config, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/system-config/defaults, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/system-config, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/system-config/storage-template-options, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] SystemMetadataController {/api/system-metadata}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/system-metadata/admin-onboarding, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/system-metadata/admin-onboarding, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/system-metadata/reverse-geocoding-state, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/system-metadata/version-check-state, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] TagController {/api/tags}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags/assets, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags/:id/assets, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/tags/:id/assets, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] TimelineController {/api/timeline}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/timeline/buckets, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/timeline/bucket, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] TrashController {/api/trash}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/trash/empty, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/trash/restore, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/trash/restore/assets, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] UserAdminController {/api/admin/users}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/sessions, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/statistics, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/preferences, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/preferences, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/admin/users/:id/restore, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] UserController {/api/users}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me/preferences, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me/preferences, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me/license, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me/license, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me/license, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me/onboarding, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me/onboarding, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/me/onboarding, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/profile-image, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/profile-image, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/users/:id/profile-image, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] ViewController {/api/view}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/view/folder/unique-paths, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/view/folder, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RoutesResolver] WorkflowController {/api/workflows}:
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/workflows, POST} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/workflows, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/workflows/:id, GET} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/workflows/:id, PUT} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:RouterExplorer] Mapped {/api/workflows/:id, DELETE} route
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:NestApplication] Nest application successfully started
Feb 07 06:15:47 glados immich[386045]: [Nest] 386045  - 07/02/2026, 06:15:47     LOG [Api:Bootstrap] Immich Server is listening on http://127.0.0.1:2283 [v2.5.2] [production] 
Feb 07 06:15:47 glados immich[386018]: Query failed : {
Feb 07 06:15:47 glados immich[386018]:   durationMs: 3.66422300000022,
Feb 07 06:15:47 glados immich[386018]:   error: PostgresError: insert or update on table "asset_exif" violates foreign key constraint "asset_exif_assetId_fkey"
Feb 07 06:15:47 glados immich[386018]:       at ErrorResponse (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:815:30)
Feb 07 06:15:47 glados immich[386018]:       at handle (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:489:6)
Feb 07 06:15:47 glados immich[386018]:       at Socket.data (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:324:9)
Feb 07 06:15:47 glados immich[386018]:       at Socket.emit (node:events:508:28)
Feb 07 06:15:47 glados immich[386018]:       at addChunk (node:internal/streams/readable:559:12)
Feb 07 06:15:47 glados immich[386018]:       at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
Feb 07 06:15:47 glados immich[386018]:       at Readable.push (node:internal/streams/readable:390:5)
Feb 07 06:15:47 glados immich[386018]:       at Pipe.onStreamRead (node:internal/stream_base_commons:189:23) {
Feb 07 06:15:47 glados immich[386018]:     severity_local: 'ERROR',
Feb 07 06:15:47 glados immich[386018]:     severity: 'ERROR',
Feb 07 06:15:47 glados immich[386018]:     code: '23503',
Feb 07 06:15:47 glados immich[386018]:     detail: 'Key (assetId)=(86b83494-cae3-46ae-a4b8-cf5be21054f0) is not present in table "asset".',
Feb 07 06:15:47 glados immich[386018]:     schema_name: 'public',
Feb 07 06:15:47 glados immich[386018]:     table_name: 'asset_exif',
Feb 07 06:15:47 glados immich[386018]:     constraint_name: 'asset_exif_assetId_fkey',
Feb 07 06:15:47 glados immich[386018]:     file: 'ri_triggers.c',
Feb 07 06:15:47 glados immich[386018]:     line: '2619',
Feb 07 06:15:47 glados immich[386018]:     routine: 'ri_ReportViolation'
Feb 07 06:15:47 glados immich[386018]:   },
Feb 07 06:15:47 glados immich[386018]:   sql: 'insert into "asset_exif" ("assetId", "dateTimeOriginal", "modifyDate", "timeZone", "latitude", "longitude", "country", "state", "city", "fileSizeInByte", "exifImageHeight", "exifImageWidth", "orientation", "projectionType", "bitsPerSample", "colorspace", "make", "model", "fps", "iso", "exposureTime", "lensModel", "fNumber", "focalLength", "description", "profileDescription", "rating", "livePhotoCID", "autoStackId", "tags") values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30) on conflict ("assetId") do update set "description" = case when $31 = any("asset_exif"."lockedProperties") then "asset_exif"."description" else "excluded"."description" end, "exifImageWidth" = case when $32 = any("asset_exif"."lockedProperties") then "asset_exif"."exifImageWidth" else "excluded"."exifImageWidth" end, "exifImageHeight" = case when $33 = any("asset_exif"."lockedProperties") then "asset_exif"."exifImageHeight" else "excluded"."exifImageHeight" end, "fileSizeInByte" = case when $34 = any("asset_exif"."lockedProperties") then "asset_exif"."fileSizeInByte" else "excluded"."fileSizeInByte" end, "orientation" = case when $35 = any("asset_exif"."lockedProperties") then "asset_exif"."orientation" else "excluded"."orientation" end, "dateTimeOriginal" = case when $36 = any("asset_exif"."lockedProperties") then "asset_exif"."dateTimeOriginal" else "excluded"."dateTimeOriginal" end, "modifyDate" = case when $37 = any("asset_exif"."lockedProperties") then "asset_exif"."modifyDate" else "excluded"."modifyDate" end, "timeZone" = case when $38 = any("asset_exif"."lockedProperties") then "asset_exif"."timeZone" else "excluded"."timeZone" end, "latitude" = case when $39 = any("asset_exif"."lockedProperties") then "asset_exif"."latitude" else "excluded"."latitude" end, "longitude" = case when $40 = any("asset_exif"."lockedProperties") then "asset_exif"."longitude" else "excluded"."longitude" end, "projectionType" = case when $41 = any("asset_exif"."lockedProperties") then "asset_exif"."projectionType" else "excluded"."projectionType" end, "city" = case when $42 = any("asset_exif"."lockedProperties") then "asset_exif"."city" else "excluded"."city" end, "livePhotoCID" = case when $43 = any("asset_exif"."lockedProperties") then "asset_exif"."livePhotoCID" else "excluded"."livePhotoCID" end, "autoStackId" = case when $44 = any("asset_exif"."lockedProperties") then "asset_exif"."autoStackId" else "excluded"."autoStackId" end, "state" = case when $45 = any("asset_exif"."lockedProperties") then "asset_exif"."state" else "excluded"."state" end, "country" = case when $46 = any("asset_exif"."lockedProperties") then "asset_exif"."country" else "excluded"."country" end, "make" = case when $47 = any("asset_exif"."lockedProperties") then "asset_exif"."make" else "excluded"."make" end, "model" = case when $48 = any("asset_exif"."lockedProperties") then "asset_exif"."model" else "excluded"."model" end, "lensModel" = case when $49 = any("asset_exif"."lockedProperties") then "asset_exif"."lensModel" else "excluded"."lensModel" end, "fNumber" = case when $50 = any("asset_exif"."lockedProperties") then "asset_exif"."fNumber" else "excluded"."fNumber" end, "focalLength" = case when $51 = any("asset_exif"."lockedProperties") then "asset_exif"."focalLength" else "excluded"."focalLength" end, "iso" = case when $52 = any("asset_exif"."lockedProperties") then "asset_exif"."iso" else "excluded"."iso" end, "exposureTime" = case when $53 = any("asset_exif"."lockedProperties") then "asset_exif"."exposureTime" else "excluded"."exposureTime" end, "profileDescription" = case when $54 = any("asset_exif"."lockedProperties") then "asset_exif"."profileDescription" else "excluded"."profileDescription" end, "colorspace" = case when $55 = any("asset_exif"."lockedProperties") then "asset_exif"."colorspace" else "excluded"."colorspace" end, "bitsPerSample" = case when $56 = any("asset_exif"."lockedProperties") then "asset_exif"."bitsPerSample" else "excluded"."bitsPerSample" end, "rating" = case when $57 = any("asset_exif"."lockedProperties") then "asset_exif"."rating" else "excluded"."rating" end, "fps" = case when $58 = any("asset_exif"."lockedProperties") then "asset_exif"."fps" else "excluded"."fps" end, "tags" = case when $59 = any("asset_exif"."lockedProperties") then "asset_exif"."tags" else "excluded"."tags" end',
Feb 07 06:15:47 glados immich[386018]:   params: [
Feb 07 06:15:47 glados immich[386018]:     '86b83494-cae3-46ae-a4b8-cf5be21054f0',
Feb 07 06:15:47 glados immich[386018]:     2025-07-02T07:48:40.352Z,
Feb 07 06:15:47 glados immich[386018]:     2025-07-02T07:48:40.355Z,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     9624,
Feb 07 06:15:47 glados immich[386018]:     250,
Feb 07 06:15:47 glados immich[386018]:     332,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     8,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     '',
Feb 07 06:15:47 glados immich[386018]:     'sRGB',
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     null,
Feb 07 06:15:47 glados immich[386018]:     'description',
Feb 07 06:15:47 glados immich[386018]:     'exifImageWidth',
Feb 07 06:15:47 glados immich[386018]:     'exifImageHeight',
Feb 07 06:15:47 glados immich[386018]:     'fileSizeInByte',
Feb 07 06:15:47 glados immich[386018]:     'orientation',
Feb 07 06:15:47 glados immich[386018]:     'dateTimeOriginal',
Feb 07 06:15:47 glados immich[386018]:     'modifyDate',
Feb 07 06:15:47 glados immich[386018]:     'timeZone',
Feb 07 06:15:47 glados immich[386018]:     'latitude',
Feb 07 06:15:47 glados immich[386018]:     'longitude',
Feb 07 06:15:47 glados immich[386018]:     'projectionType',
Feb 07 06:15:47 glados immich[386018]:     'city',
Feb 07 06:15:47 glados immich[386018]:     'livePhotoCID',
Feb 07 06:15:47 glados immich[386018]:     'autoStackId',
Feb 07 06:15:47 glados immich[386018]:     'state',
Feb 07 06:15:47 glados immich[386018]:     'country',
Feb 07 06:15:47 glados immich[386018]:     'make',
Feb 07 06:15:47 glados immich[386018]:     'model',
Feb 07 06:15:47 glados immich[386018]:     'lensModel',
Feb 07 06:15:47 glados immich[386018]:     'fNumber',
Feb 07 06:15:47 glados immich[386018]:     'focalLength',
Feb 07 06:15:47 glados immich[386018]:     'iso',
Feb 07 06:15:47 glados immich[386018]:     'exposureTime',
Feb 07 06:15:47 glados immich[386018]:     'profileDescription',
Feb 07 06:15:47 glados immich[386018]:     'colorspace',
Feb 07 06:15:47 glados immich[386018]:     'bitsPerSample',
Feb 07 06:15:47 glados immich[386018]:     'rating',
Feb 07 06:15:47 glados immich[386018]:     'fps',
Feb 07 06:15:47 glados immich[386018]:     'tags'
Feb 07 06:15:47 glados immich[386018]:   ]
Feb 07 06:15:47 glados immich[386018]: }
Feb 07 06:15:47 glados immich[386018]: microservices worker error: PostgresError: insert or update on table "asset_exif" violates foreign key constraint "asset_exif_assetId_fkey", stack: PostgresError: insert or update on table "asset_exif" violates foreign key constraint "asset_exif_assetId_fkey"
Feb 07 06:15:47 glados immich[386018]:     at ErrorResponse (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:815:30)
Feb 07 06:15:47 glados immich[386018]:     at handle (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:489:6)
Feb 07 06:15:47 glados immich[386018]:     at Socket.data (/nix/store/hl35qb2w5rrda141hls3zqzxykxdr3id-immich-2.5.2/lib/node_modules/immich/node_modules/.pnpm/postgres@3.4.8/node_modules/postgres/cjs/src/connection.js:324:9)
Feb 07 06:15:47 glados immich[386018]:     at Socket.emit (node:events:508:28)
Feb 07 06:15:47 glados immich[386018]:     at addChunk (node:internal/streams/readable:559:12)
Feb 07 06:15:47 glados immich[386018]:     at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
Feb 07 06:15:47 glados immich[386018]:     at Readable.push (node:internal/streams/readable:390:5)
Feb 07 06:15:47 glados immich[386018]:     at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)
Feb 07 06:15:47 glados immich[386018]: microservices worker exited with code 1
Feb 07 06:15:47 glados immich[386018]: Killing api process
Feb 07 06:15:47 glados systemd[1]: [0;1;39m[0;1;31m[0;1;39mimmich-server.service: Main process exited, code=exited, status=1/FAILURE[0m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Unit process exited[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: https://lists.freedesktop.org/mailman/listinfo/systemd-devel[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mAn ExecStart= process belonging to unit immich-server.service has exited.[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe process' exit code is 'exited' and its exit status is 1.[0m
Feb 07 06:15:47 glados systemd[1]: [0;1;38:5:185m[0;1;39m[0;1;38:5:185mimmich-server.service: Failed with result 'exit-code'.[0m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Unit failed[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: https://lists.freedesktop.org/mailman/listinfo/systemd-devel[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe unit immich-server.service has entered the 'failed' state with result 'exit-code'.[0m
Feb 07 06:15:47 glados systemd[1]: [0;1;39m[0;1;31m[0;1;39mimmich-server.service: Consumed 5.112s CPU time, 716.5M memory peak, 1.4K incoming IP traffic, 49.4K outgoing IP traffic.[0m
[0;38;5;245mâ–‘â–‘ [0m[0;32mSubject: Resources consumed by unit runtime[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mDefined-By: systemd[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mSupport: https://lists.freedesktop.org/mailman/listinfo/systemd-devel[0m
[0;38;5;245mâ–‘â–‘[0m [0;32m[0m
[0;38;5;245mâ–‘â–‘[0m [0;32mThe unit immich-server.service completed and consumed the indicated resources.[0m
